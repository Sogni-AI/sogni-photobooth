# Sogni Photobooth

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)
[![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)](CONTRIBUTING.md)

A full-stack, open-source "AI photobooth" that lets anyone snap a selfie or upload a photo, then generate stylised images powered by the **Sogni Supernet**.  
Live demo → **https://photobooth.sogni.ai**

<div align="center">
  <img alt="Photobooth screenshot – webcam mode" src="docs/assets/photobooth-demo-1.png" width="100%"/>
  <img alt="Photobooth screenshot – style selection"  src="docs/assets/photobooth-demo-2.png" width="100%"/>
  <img alt="Photobooth screenshot – generated gallery"  src="docs/assets/photobooth-demo-3.png" width="100%"/>
</div>

---

## ✨ Features
- **State-of-the-art Character Transfer / Identity-Preserving Stylized Synthesis** – keeps your face while transforming the style.
- **Mobile & Desktop** – webcam support, camera-roll upload, drag-and-drop.
- **One-Click Local Dev** – Vite + Nodemon + script runner.
- **DePIN Powered** – no model downloads or local GPU needed; up to 64 concurrent jobs on the Sogni Supernet.
- **Secure Backend** – credentials live only in the Node server; the browser never sees them.
- **Live Progress** – real-time SSE and per-image progress bars.

> You'll need a free [Sogni account](https://www.sogni.ai) + tokens for inference jobs.

---

## 📑 Table of Contents
1. [Quick Start](#-quick-start)
2. [Project Layout](#-project-layout)
3. [Configuration](#️-configuration)
4. [Testing](#-testing)
5. [Production Build & Deploy](#-production-build--deploy)
6. [Contributing](#-contributing)
7. [License](#-license)
8. [Acknowledgements](#-acknowledgements)

---

## 🚀 Quick Start

### 1 · Clone & install
```bash
# clone
git clone https://github.com/Sogni-AI/sogni-photobooth.git
cd sogni-photobooth

# installs root deps *and* runs the npm **prepare** script which installs /server deps
npm install
```

### 2 · Backend credentials
```bash
cp server/.env.example server/.env   # edit the values
```
Minimal example:
```
SOGNI_APP_ID=photobooth-local   # optional; autogenerated if blank
SOGNI_USERNAME=your_username
SOGNI_PASSWORD=your_password
SOGNI_ENV=local                # local | staging | production
PORT=3001
CLIENT_ORIGIN=https://photobooth-local.sogni.ai
```

### 3 · Run in dev mode (two terminals)

One terminal to run the React front-end and another for the Node Express back-end.

```bash
# Terminal 1 – backend
cd server && npm run dev

# Terminal 2 – frontend (in project root)
npm run dev
```
Visit **https://photobooth-local.sogni.ai** (recommended Nginx reverse-proxy) **or** http://localhost:5175.

### Optional script runner

If you prefer not to keep terminals open, you can use the script runner. This will start the services in the background and log to files in the 
`logs/` directory.

```bash
./scripts/run.sh start   # starts front & back in background
./scripts/run.sh status  # see logs / ports
```

---

## 🗂 Project Layout
```
├─ src/           # React frontend
│  ├─ components/
│  ├─ services/   # browser-side API helpers
│  └─ ...
├─ server/        # Express backend (API → Sogni SDK)
│  ├─ routes/
│  └─ services/
├─ scripts/       # helper CLI & deployment scripts
├─ tests/         # Playwright visual tests & Jest unit tests
└─ screenshots/   # demo images used in this README
```

---

## ⚙️ Configuration

| File | Purpose |
|------|---------|
| `server/.env` | Backend secrets & CORS origin |
| `.env`, `.env.staging` | Frontend build-time vars (Vite) |
| `configs/local/*.conf` | Nginx local SSL reverse-proxy |

### SSL & Custom Domain (optional)
Running `./scripts/run.sh nginx` installs a local Nginx config + self-signed cert so you can use **https://photobooth-local.sogni.ai** with secure cookies.

---

## 🧪 Testing

```bash
# unit + component tests
npm test

# visual regression (HTML report)
npm run test:visual
```
Full visual refactor workflow:
```bash
npm run test:visual:baseline  # capture
# …make changes…
npm run test:visual:refactor  # compare & report
```

---

## 📦 Production Build & Deploy

```bash
# build static frontend (dist/) & type-check
npm run build


```
Deploy `/dist` to your static host and `/server` behind Node (PM2, systemd, etc.).  
Make sure **PORT**, **CLIENT_ORIGIN** and SSL are configured.

---

## 🤝 Contributing
Pull requests are welcome!  
Please run `npm run lint` and `npm run test:visual` before submitting.

We follow the standard [Contributor Covenant](https://www.contributor-covenant.org/version/2/1/code_of_conduct/) Code of Conduct.

---

## 📜 License

Licensed under the **MIT License**.  See [`LICENSE`](LICENSE) for the full text.

---

## 🙏 Acknowledgements
- **Sogni AI** – for the SDK & Supernet that powers this application. [More "Superapps"](https://www.sogni.ai/super-apps)
- **Stable Diffusion SDXL** – <https://huggingface.co/docs/diffusers/en/using-diffusers/sdxl>
- **ControlNet** – <https://github.com/lllyasviel/ControlNet>
- **Instant ID** – <https://github.com/instantX-research/InstantID>
- **Cursor AI** – the AI pair-programmer used to vibe-code this sample repo.

For questions, feedback, or support feel free to reach us at **dream@sogni.ai** 