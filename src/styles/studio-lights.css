/* ------------------------------
   Background Studio Lights
   ------------------------------ */

/* Fixed container stretching full viewport but non-interactive */
.studio-lights-container {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 1; /* behind main UI, above gradient bg */
}

/* Individual light images */
.studio-light {
  position: absolute;
  bottom: 0;
  height: 80vh;
  max-height: 800px;
  width: auto;
  opacity: 0.8;
  pointer-events: none;
  mix-blend-mode: normal;
  /* Add anti-aliasing for scaled images */
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
  image-rendering: pixelated;
  /* Override pixelated for smooth scaling when enlarged */
  image-rendering: auto;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  transform: translateZ(0);
}

.studio-light.left { left: -2%; }
.studio-light.right { right: -2%; }

/* Hide studio lights on mobile and all portrait orientations */
@media (max-width: 768px), (orientation: portrait) {
  /* Hide studio lights completely on mobile and all portrait orientations */
  .studio-lights-container {
    display: none !important;
  }
  
  /* Previous mobile-specific light styling (kept for reference but won't apply) */
  body.portrait .studio-light {
    height: 140vh;
    bottom: -40vh;
    opacity: 0.65;
  }
  body.portrait .studio-light.left  { left: -60%; transform: translateX(30%) scale(0.9); }
  body.portrait .studio-light.right { right: -60%; transform: translateX(-30%) scale(0.9); }

  body.landscape .studio-light {
    height: 160vh;
    bottom: -60vh;
  }
  body.landscape .studio-light.left  { left: -50%; }
  body.landscape .studio-light.right { right: -50%; }
}

/* Extra large screens - scale up studio lights to properly frame centered camera */
@media (min-width: 1920px) {
  .studio-light {
    height: 90vh;
    max-height: 1000px;
    /* Add smooth scaling with anti-aliasing */
    image-rendering: smooth;
    image-rendering: -webkit-optimize-contrast;
    filter: blur(0);
    transform: scale(1.15);
  }
  
  .studio-light.left { 
    left: -5%; 
    transform-origin: bottom left;
    transform: scale(1.15);
  }
  
  .studio-light.right { 
    right: -5%; 
    transform-origin: bottom right;
    transform: scale(1.15);
  }
}

/* Ultra-wide screens (2560x1440 and similar) - moderate scaling to keep lights visible */
@media (min-width: 2560px) {
  .studio-light {
    height: 95vh;
    max-height: 1100px;
    /* Enhanced anti-aliasing for larger scaling */
    image-rendering: smooth;
    image-rendering: -webkit-optimize-contrast;
    filter: blur(0);
    transform: scale(1.25);
  }
  
  .studio-light.left { 
    left: -3%; 
    transform-origin: bottom left;
    transform: scale(1.25);
  }
  
  .studio-light.right { 
    right: -3%; 
    transform-origin: bottom right;
    transform: scale(1.25);
  }
}

/* Specific optimization for 2560x1440 resolution */
@media (min-width: 2560px) and (max-width: 2560px) and (min-height: 1440px) and (max-height: 1440px) {
  .studio-light {
    height: 90vh;
    max-height: 1000px;
    transform: scale(1.2);
  }
  
  .studio-light.left { 
    left: -1%; 
    transform-origin: bottom left;
    transform: scale(1.2);
  }
  
  .studio-light.right { 
    right: -1%; 
    transform-origin: bottom right;
    transform: scale(1.2);
  }
}

/* -----------------------------------------------------------------
   FINAL camera size override (must load AFTER any legacy index css)
   -----------------------------------------------------------------*/
html body .photobooth-app .photobooth-frame > .photobooth-screen {
  width: 66.67% !important;
  max-width: 66.67% !important;
  height: auto !important;
  padding-bottom: 0 !important; /* cancel ratio padding */
  aspect-ratio: auto !important;
}

/* HIGH RESOLUTION OVERRIDE - Allow camera view to scale like ImageAdjuster */
/* This overrides the 66.67% constraint for better scaling on large screens */
html body .photobooth-app .photobooth-frame > .photobooth-screen {
  width: auto !important;
  max-width: none !important;
  height: auto !important;
  margin: 0 auto !important;
}

/* Ensure internal video container cannot escape */
html body .photobooth-app .photobooth-frame > .photobooth-screen .video-container {
  position: relative !important;
  width: 100% !important;
  height: auto !important;
} 