/* ----------------------------------
   iOS Chrome Specific Orientation Fixes
   ---------------------------------- */

@supports (-webkit-touch-callout: none) {
  /* Target all iOS devices, regardless of screen size */
  body, html { overflow: hidden; height: 100%; }

  /* Force media query to apply on iPhone devices in portrait mode */
  @media (orientation: portrait) {
    /* Add specific style for CameraStartMenu on iOS */
    .camera-start-menu .start-menu-content {
      padding: 24px 20px !important;
      width: 95% !important;
    }

    .camera-start-menu .start-menu-title {
      font-size: 2rem !important;
      margin-bottom: 8px !important;
    }

    .camera-start-menu .start-menu-description {
      font-size: 1rem !important;
      margin-bottom: 24px !important;
    }
    
    .camera-start-menu .start-menu-options {
      flex-direction: column !important;
      align-items: center !important;
      gap: 16px !important;
    }
    
    .camera-start-menu .option-button {
      width: 100% !important;
      padding: 16px !important;
    }

    .camera-start-menu .option-button.take-photo,
    .camera-start-menu .option-button.browse-photo {
      padding: 20px !important;
    }

    .camera-start-menu .option-icon {
      font-size: 2.2rem !important;
      margin-right: 0px !important;
    }

    /* Hide drag & drop option in portrait mode */
    .camera-start-menu .option-button.info-only {
      display: none !important;
    }
    
    /* Significantly reduce View Photos button size on iPhone */
    .view-photos-button {
      font-size: 0.85rem !important;
      padding: 5px 10px !important;
      margin-top: 8px !important;
      border-radius: 16px !important;
      max-width: 150px !important;
      margin: 8px auto !important;
      display: block !important;
    }
    
    /* Fix photo grid layout for iOS portrait */
    .film-frame {
      aspect-ratio: calc(896 / 1152) !important; /* Portrait aspect ratio for iOS */
      padding: 8px 8px 40px 8px !important; /* Increase bottom padding */
      display: flex !important;
      flex-direction: column !important;
    }
    
    /* Fix for selected photo view in portrait */
    .film-frame.selected {
      position: fixed !important;
      top: 0 !important;
      left: 0 !important;
      right: 0 !important;
      bottom: 0 !important;
      width: 100% !important;
      height: 100% !important;
      max-width: none !important;
      max-height: none !important;
      margin: 0 !important;
      padding: 0 !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      z-index: 9998 !important;
      transform: none !important;
    }
    
    /* Fix label position */
    .film-frame.selected .photo-label {
      position: fixed !important;
      bottom: 20px !important;
      left: 0 !important;
      right: 0 !important;
      width: 70% !important;
      margin: 0 auto !important;
      text-align: center !important;
      font-size: 16px !important;
    }

    .film-frame:not(.selected) .photo-label {
      bottom: 20px !important;
    }
    
    /* Hide back to camera button when a photo is selected */
    .film-strip-container.has-selected .back-to-camera-btn {
      display: none !important;
    }
    
    .film-frame.selected img {
      position: relative !important;
      border-left: 18px solid white !important;
      border-right: 18px solid white !important;
      border-top: 18px solid white !important;
      border-bottom: 80px solid white !important;
      max-width: 90vw !important;
      max-height: 75vh !important;
      margin: 0 auto !important;
      display: block !important;
    }
  }
}

/* ------------------------------
   Additional mobile viewport fix
   ------------------------------ */
:root { --vh: 1vh; }

@supports (-webkit-touch-callout: none) {
  /* Target all iOS devices, not just small screens */
  .photobooth-app {
    height: calc(var(--vh, 1vh) * 100);
    padding-bottom: env(safe-area-inset-bottom);
  }
} 